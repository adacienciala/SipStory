### API Endpoint Test Suite
### GET /api/brands
@endpointUrl = {{baseUrl}}/api/brands

### NOTE: This endpoint does NOT require authentication (public read access)
### Brands are global reference data accessible to all users

### ============================================================================
### SUCCESS CASES
### ============================================================================

### Test 1: List brands with default pagination (happy path)
### Expected: 200 OK with up to 50 brands
GET {{endpointUrl}}

### Test 2: List brands with custom page and limit
### Expected: 200 OK with requested page size
GET {{endpointUrl}}?page=1&limit=10

### Test 3: List brands with page 2
### Expected: 200 OK with second page of results
GET {{endpointUrl}}?page=2&limit=20

### Test 4: List brands with search (case-insensitive)
### Expected: 200 OK with brands matching search term
GET {{endpointUrl}}?search=ippodo

### Test 5: List brands with search (partial match)
### Expected: 200 OK with brands containing search term
GET {{endpointUrl}}?search=tea

### Test 6: List brands with search and pagination
### Expected: 200 OK with filtered and paginated results
GET {{endpointUrl}}?search=mat&page=1&limit=5

### Test 7: List brands with limit=1 (minimum practical)
### Expected: 200 OK with single brand
GET {{endpointUrl}}?limit=1

### Test 8: List brands with limit=100 (maximum allowed)
### Expected: 200 OK with up to 100 brands
GET {{endpointUrl}}?limit=100

### Test 9: List brands with search (no matches)
### Expected: 200 OK with empty data array
GET {{endpointUrl}}?search=nonexistentbrandxyz12345

### Test 10: List brands with search (whitespace trimmed)
### Expected: 200 OK with trimmed search term applied
GET {{endpointUrl}}?search=%20ippodo%20

### Test 11: List brands with empty search string
### Expected: 200 OK with all brands (search ignored)
GET {{endpointUrl}}?search=

### Test 12: List brands - page beyond available pages
### Expected: 200 OK with empty data array
GET {{endpointUrl}}?page=999&limit=50

### ============================================================================
### VALIDATION ERROR CASES (400 Bad Request)
### ============================================================================

### Test 13: Invalid page (zero)
### Expected: 400 Bad Request - page must be positive
GET {{endpointUrl}}?page=0

### Test 14: Invalid page (negative)
### Expected: 400 Bad Request - page must be positive
GET {{endpointUrl}}?page=-1

### Test 15: Invalid page (non-numeric)
### Expected: 400 Bad Request - page must be a number
GET {{endpointUrl}}?page=abc

### Test 16: Invalid limit (zero)
### Expected: 400 Bad Request - limit must be at least 1
GET {{endpointUrl}}?limit=0

### Test 17: Invalid limit (negative)
### Expected: 400 Bad Request - limit must be positive
GET {{endpointUrl}}?limit=-10

### Test 18: Invalid limit (exceeds maximum)
### Expected: 400 Bad Request - limit must be at most 200
GET {{endpointUrl}}?limit=201

### Test 19: Invalid limit (non-numeric)
### Expected: 400 Bad Request - limit must be a number
GET {{endpointUrl}}?limit=fifty

### ============================================================================
### EDGE CASES
### ============================================================================

### Test 20: Search with special characters
### Expected: 200 OK with escaped search (no SQL injection)
GET {{endpointUrl}}?search=%27%22%3B%25

### Test 21: Search with very long string (edge of max length)
### Expected: 200 OK or 400 if exceeds 255 chars
GET {{endpointUrl}}?search=verylongbrandnameverylongbrandnameverylongbrandnameverylongbrandnameverylongbrandnameverylongbrandnameverylongbrandnameverylongbrandnameverylongbrandnameverylongbrandnameverylongbrandnameverylongbrandnameverylongbrandnameverylongbrandnameverylongbrandname

### Test 22: Multiple query parameters (combination)
### Expected: 200 OK with all parameters applied
GET {{endpointUrl}}?page=1&limit=25&search=tea

### Test 23: Query parameters with spaces (URL encoded)
### Expected: 200 OK with decoded search term
GET {{endpointUrl}}?search=ippodo%20tea

### Test 24: Duplicate query parameters (page appears twice)
### Expected: 200 OK - uses first occurrence or last (implementation specific)
GET {{endpointUrl}}?page=1&page=2&limit=10

### Test 25: Case sensitivity test (uppercase search)
### Expected: 200 OK with case-insensitive match
GET {{endpointUrl}}?search=IPPODO

### Test 26: Case sensitivity test (mixed case search)
### Expected: 200 OK with case-insensitive match
GET {{endpointUrl}}?search=IpPoDo

### Test 27: Pagination edge - page 1 with limit 1
### Expected: 200 OK with exactly 1 brand
GET {{endpointUrl}}?page=1&limit=1

### Test 28: Search with only whitespace
### Expected: 200 OK with all brands (whitespace trimmed, search ignored)
GET {{endpointUrl}}?search=%20%20%20

### Test 29: Verify pagination metadata accuracy
### Expected: 200 OK with correct total, page, and limit in response
GET {{endpointUrl}}?page=1&limit=10
