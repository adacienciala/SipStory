### API Endpoint Test Suite
### GET /api/tasting-notes

@endpointUrl = {{baseUrl}}/api/tasting-notes

### AUTHENTICATION: 
### 1. Run the login request in auth.http to get an access token
### 2. Update the accessToken.

### Test 1: Default parameters (no query params)
### Expected: 200 OK, default pagination (page=1, limit=20)
GET {{endpointUrl}}
Authorization: Bearer {{accessToken}}

### Test 2: Custom pagination (page=2, limit=10)
### Expected: 200 OK with pagination metadata showing page=2, limit=10
GET {{endpointUrl}}?page=2&limit=10
Authorization: Bearer {{accessToken}}

### Test 3: Filter by brand_ids
### Expected: 200 OK
GET {{endpointUrl}}?brand_ids={{testBrandId}}
Authorization: Bearer {{accessToken}}

### Test 4: Filter by min_rating
### Expected: 200 OK
GET {{endpointUrl}}?min_rating=5
Authorization: Bearer {{accessToken}}

### Test 5: Sort by overall_rating DESC
### Expected: 200 OK
GET {{endpointUrl}}?sort_by=overall_rating&sort_order=desc
Authorization: Bearer {{accessToken}}

### Test 6: Invalid parameter - page = 0
### Expected: 400 Bad Request with validation error
GET {{endpointUrl}}?page=0
Authorization: Bearer {{accessToken}}

### Test 7: Invalid parameter - limit > 100
### Expected: 400 Bad Request with validation error
GET {{endpointUrl}}?limit=150
Authorization: Bearer {{accessToken}}

### Test 8: Invalid parameter - min_rating > 5
### Expected: 400 Bad Request with validation error
GET {{endpointUrl}}?min_rating=6
Authorization: Bearer {{accessToken}}

### Test 9: Invalid parameter - invalid sort_by
### Expected: 400 Bad Request with validation error
GET {{endpointUrl}}?sort_by=invalid_field
Authorization: Bearer {{accessToken}}

### Test 10: Invalid parameter - invalid UUID in brand_ids
### Expected: 400 Bad Request with validation error
GET {{endpointUrl}}?brand_ids=not-a-uuid
Authorization: Bearer {{accessToken}}

### Test 11: Multiple filters combined
### Expected: 200 OK
GET {{endpointUrl}}?brand_ids={{testBrandId}},{{nonExistentBrandId}}&min_rating=3&sort_by=created_at&sort_order=asc&page=1&limit=20
Authorization: Bearer {{accessToken}}
